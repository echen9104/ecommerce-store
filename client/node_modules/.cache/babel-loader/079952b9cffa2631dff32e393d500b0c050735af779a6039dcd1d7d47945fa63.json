{"ast":null,"code":"var _jsxFileName = \"/Users/ericchen/web-projects/ecommerce-store/client/src/scenes/checkout/Checkout.jsx\",\n  _s = $RefreshSig$();\nimport { useSelector } from \"react-redux\";\nimport { Box, Button, Stepper, Step, StepLabel } from '@mui/material';\nimport { Formik } from \"formik\";\nimport { useState } from \"react\";\nimport * as yup from \"yup\";\nimport { shades } from \"../../theme\";\nimport Shipping from './Shipping';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initalValues = {\n  billingAddress: {\n    firstName: \"\",\n    lastName: \"\",\n    country: \"\",\n    street1: \"\",\n    street2: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\"\n  },\n  shippingAddress: {\n    isSameAddress: true,\n    firstName: \"\",\n    lastName: \"\",\n    country: \"\",\n    street1: \"\",\n    street2: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\"\n  },\n  email: \"\",\n  phoneNumber: \"\"\n};\nconst checkoutSchema = [yup.object().shape({\n  billingAddress: yup.object().shape({\n    firstName: yup.string().required(\"required\"),\n    lastName: yup.string().required(\"required\"),\n    country: yup.string().required(\"required\"),\n    street1: yup.string().required(\"required\"),\n    street2: yup.string(),\n    city: yup.string().required(\"required\"),\n    state: yup.string().required(\"required\"),\n    zipCode: yup.string().required(\"required\")\n  }),\n  shippingAddress: yup.object().shape({\n    isSameAddress: yup.boolean(),\n    firstName: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    }),\n    lastName: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    }),\n    country: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    }),\n    street1: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    }),\n    street2: yup.string(),\n    city: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    }),\n    state: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    }),\n    zipCode: yup.string().when(\"isSameAddress\", {\n      is: false,\n      then: yup.string().required(\"required\")\n    })\n  })\n}), yup.object().shape({\n  email: yup.string().required(\"required\"),\n  phoneNumber: yup.string().required(\"required\")\n})];\nconst Checkout = () => {\n  _s();\n  const [activeStep, setActiveStep] = useState(0);\n  const cart = useSelector(state => state.cart.cart);\n  const isFirstStep = activeStep === 0;\n  const isSecondStep = activeStep === 1;\n  const handleFormSubmit = async (value, actions) => {\n    setActiveStep(activeStep + 1);\n\n    // Copy billing address onto shipping address\n    if (isFirstStep && values.shippingAddress.isSameAddress) {\n      actions.setFieldValue(\"shippingAddress\", {\n        ...values.billingAddress,\n        isSameAddress: true\n      });\n    }\n\n    // Second step\n    if (isSecondStep) {\n      makePayment(values);\n    }\n    actions.setTouched({});\n  };\n  async function makePayment(values) {}\n  return /*#__PURE__*/_jsxDEV(Box, {\n    width: \"80%\",\n    m: \"100px auto\",\n    children: [/*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: activeStep,\n      sx: {\n        m: \"20px 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: \"Billing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: \"Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Formik, {\n        onSubmit: handleFormSubmit,\n        initialValues: initalValues,\n        validationSchema: checkoutSchema[activeStep],\n        children: _ref => {\n          let {\n            values,\n            errors,\n            touched,\n            handleBlur,\n            handleChange,\n            handleSubmit,\n            setFieldValue\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: isFirstStep && /*#__PURE__*/_jsxDEV(Shipping, {\n              values: values,\n              errors: errors,\n              touched: touched,\n              handleBlur: handleBlur,\n              handleChange: handleChange,\n              setFieldValue: setFieldValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n};\n_s(Checkout, \"IcVMHCx62xxdMquXQ2YBX+zAvzY=\", false, function () {\n  return [useSelector];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useSelector","Box","Button","Stepper","Step","StepLabel","Formik","useState","yup","shades","Shipping","jsxDEV","_jsxDEV","initalValues","billingAddress","firstName","lastName","country","street1","street2","city","state","zipCode","shippingAddress","isSameAddress","email","phoneNumber","checkoutSchema","object","shape","string","required","boolean","when","is","then","Checkout","_s","activeStep","setActiveStep","cart","isFirstStep","isSecondStep","handleFormSubmit","value","actions","values","setFieldValue","makePayment","setTouched","width","m","children","sx","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","initialValues","validationSchema","_ref","errors","touched","handleBlur","handleChange","handleSubmit","_c","$RefreshReg$"],"sources":["/Users/ericchen/web-projects/ecommerce-store/client/src/scenes/checkout/Checkout.jsx"],"sourcesContent":["import { useSelector } from \"react-redux\";\nimport { Box, Button, Stepper, Step, StepLabel } from '@mui/material';\nimport { Formik } from \"formik\";\nimport { useState } from \"react\";\nimport * as yup from \"yup\";\nimport { shades } from \"../../theme\";\nimport Shipping from './Shipping';\n\nconst initalValues = {\n    billingAddress: {\n        firstName: \"\",\n        lastName: \"\",\n        country: \"\",\n        street1: \"\",\n        street2: \"\",\n        city: \"\",\n        state: \"\",\n        zipCode: \"\",\n    },\n    shippingAddress: {\n        isSameAddress: true,\n        firstName: \"\",\n        lastName: \"\",\n        country: \"\",\n        street1: \"\",\n        street2: \"\",\n        city: \"\",\n        state: \"\",\n        zipCode: \"\",\n    },\n    email: \"\",\n    phoneNumber: \"\"\n}\n\nconst checkoutSchema = [\n    yup.object().shape({\n        billingAddress: yup.object().shape({\n            firstName: yup.string().required(\"required\"),\n            lastName: yup.string().required(\"required\"),\n            country: yup.string().required(\"required\"),\n            street1: yup.string().required(\"required\"),\n            street2: yup.string(),\n            city: yup.string().required(\"required\"),\n            state: yup.string().required(\"required\"),\n            zipCode: yup.string().required(\"required\"),\n        }),\n        shippingAddress: yup.object().shape({\n            isSameAddress: yup.boolean(),\n            firstName: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n            lastName: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n            country: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n            street1: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n            street2: yup.string(),\n            city: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n            state: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n            zipCode: yup.string().when(\"isSameAddress\", {\n                is: false,\n                then: yup.string().required(\"required\"),\n            }),\n        }),\n    }),\n    yup.object().shape({\n        email: yup.string().required(\"required\"),\n        phoneNumber: yup.string().required(\"required\")\n    }),\n]\n\nconst Checkout = () => {\n    const [activeStep, setActiveStep] = useState(0);\n    const cart = useSelector((state) => state.cart.cart);\n    const isFirstStep = activeStep === 0;\n    const isSecondStep = activeStep === 1;\n\n    const handleFormSubmit = async (value, actions) => {\n        setActiveStep(activeStep + 1);\n\n        // Copy billing address onto shipping address\n        if (isFirstStep && values.shippingAddress.isSameAddress) {\n            actions.setFieldValue(\"shippingAddress\", {\n                ...values.billingAddress,\n                isSameAddress: true,\n            })\n        }\n\n        // Second step\n        if (isSecondStep) {\n            makePayment(values);\n        }\n\n        actions.setTouched({});\n    }\n\n    async function makePayment(values) {\n\n    }\n\n    return (\n        <Box width=\"80%\" m=\"100px auto\">\n            <Stepper activeStep={activeStep} sx={{ m: \"20px 0\" }}>\n                <Step>\n                    <StepLabel>Billing</StepLabel>\n                </Step>\n                <Step>\n                    <StepLabel>Payment</StepLabel>\n                </Step>\n            </Stepper>\n            \n            <Box>\n                <Formik\n                    onSubmit={handleFormSubmit}\n                    initialValues={initalValues}\n                    validationSchema={checkoutSchema[activeStep]}\n                >\n                    {({\n                        values,\n                        errors,\n                        touched,\n                        handleBlur,\n                        handleChange,\n                        handleSubmit,\n                        setFieldValue\n                    }) => (\n                        <form onSubmit={handleSubmit}>\n                            {isFirstStep && (\n                                <Shipping values={values}\n                                    errors={errors}\n                                    touched={touched}\n                                    handleBlur={handleBlur}\n                                    handleChange={handleChange}\n                                    setFieldValue={setFieldValue}\n                                />\n                            )}\n                        </form>\n                    )}\n\n                </Formik>\n            </Box>\n        </Box>\n    )\n}\n\nexport default Checkout;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}